2025-05-09 19:33:25,063 [INFO] === MINECRAFT ZERO-DOWNTIME UPDATE GESTARTET (20250509_193325) ===
2025-05-09 19:33:25,063 [INFO] Release: minecraft-server, Namespace: default
2025-05-09 19:33:25,064 [INFO] SCHRITT 1/10 (10%): Prüfe Serverstatus vor dem Update
2025-05-09 19:33:25,065 [WARNING] Kein RCON-Passwort angegeben, überspringe Spieleranzahlermittlung
2025-05-09 19:33:25,065 [INFO] SCHRITT 2/10 (20%): Stelle sicher, dass Server 0 läuft
2025-05-09 19:33:25,066 [INFO] Skaliere StatefulSet minecraft-server auf 1 Replicas...
2025-05-09 19:33:25,066 [DEBUG] Ausführen: kubectl scale statefulset minecraft-server --replicas=1 -n default
2025-05-09 19:33:25,146 [DEBUG] STDOUT:
statefulset.apps/minecraft-server scaled
2025-05-09 19:33:25,147 [INFO] SUCCESS: StatefulSet auf 1 skaliert
2025-05-09 19:33:25,148 [INFO] Warte auf Bereitschaft von Pod minecraft-server-0...
2025-05-09 19:33:25,148 [DEBUG] Ausführen: kubectl wait --for=condition=ready pod/minecraft-server-0 --timeout=180s -n default
2025-05-09 19:33:25,291 [DEBUG] STDOUT:
pod/minecraft-server-0 condition met
2025-05-09 19:33:25,292 [INFO] SUCCESS: Pod minecraft-server-0 ist bereit
2025-05-09 19:33:25,292 [INFO] SCHRITT 3/10 (30%): Benachrichtige Spieler über bevorstehendes Update
2025-05-09 19:33:25,293 [WARNING] Kein RCON-Passwort angegeben, überspringe Spielerbenachrichtigung
2025-05-09 19:33:25,294 [INFO] SCHRITT 4/10 (40%): Aktualisiere Minecraft-Konfiguration mit Helm
2025-05-09 19:33:25,294 [INFO] Führe Helm-Upgrade für Release minecraft-server durch...
2025-05-09 19:33:25,295 [DEBUG] Ausführen: helm upgrade minecraft-server ./minecraft/ --set replicaCount=1 -n default
2025-05-09 19:33:25,934 [DEBUG] STDOUT:
Release "minecraft-server" has been upgraded. Happy Helming!
NAME: minecraft-server
LAST DEPLOYED: Fri May  9 19:33:25 2025
NAMESPACE: default
STATUS: deployed
REVISION: 2
TEST SUITE: None
NOTES:
Minecraft-Server wurde erfolgreich installiert!

StatefulSet: minecraft-server
Pod: minecraft-server-0
Welt-PVC: minecraft-server-world
Cash-PVC: minecraft-server-cash
Server-Eigenschaften: minecraft-server-server-properties

Um den Minecraft-Server zu steuern:
- Einschalten: kubectl scale statefulset minecraft-server --replicas=1
- Ausschalten: kubectl scale statefulset minecraft-server --replicas=0
- Updates durchführen: ./update-minecraft.sh

Verbinden mit dem Server:
- Server: <NODE_IP>:30565
- RCON: <NODE_IP>:30575

Um die Logs des Servers anzuzeigen:
  kubectl logs -f minecraft-server-0

Erfolgreiche Installation!
2025-05-09 19:33:25,935 [INFO] SUCCESS: Helm-Upgrade erfolgreich abgeschlossen
2025-05-09 19:33:25,936 [INFO] SCHRITT 5/10 (50%): Speichere aktuelle Weltdaten
2025-05-09 19:33:25,937 [WARNING] Kein RCON-Passwort angegeben, überspringe Spielerbenachrichtigung
2025-05-09 19:33:25,937 [WARNING] Kein RCON-Passwort angegeben, überspringe Weltenspeicherung
2025-05-09 19:33:25,938 [WARNING] Konnte Weltdaten nicht speichern
2025-05-09 19:33:28,939 [INFO] SCHRITT 6/10 (60%): Synchronisiere Weltdaten von Server 0 zu Backup
2025-05-09 19:33:28,940 [WARNING] Kein RCON-Passwort angegeben, überspringe Spielerbenachrichtigung
2025-05-09 19:33:28,942 [INFO] Synchronisiere Weltdaten zum Backup für Pod minecraft-server-0...
2025-05-09 19:33:28,942 [DEBUG] Ausführen: kubectl exec -i minecraft-server-0 -n default -- /bin/bash -c /scripts/world-sync.sh to-backup
2025-05-09 19:33:29,128 [DEBUG] STDOUT:
Synchronisiere Weltdaten für world von Quelle zu Ziel...
Kopiere von dieser Welt zu Backup-Welt...
Synchronisation abgeschlossen!
2025-05-09 19:33:29,129 [DEBUG] STDERR:
Defaulted container "minecraft-java-container" out of: minecraft-java-container, wait-for-resources (init)
2025-05-09 19:33:29,130 [INFO] SUCCESS: Weltsynchronisierung zum Backup abgeschlossen
2025-05-09 19:33:29,130 [INFO] SCHRITT 7/10 (70%): Starte zweiten Server mit Backup-Weltdaten
2025-05-09 19:33:29,131 [INFO] Skaliere StatefulSet minecraft-server auf 2 Replicas...
2025-05-09 19:33:29,132 [DEBUG] Ausführen: kubectl scale statefulset minecraft-server --replicas=2 -n default
2025-05-09 19:33:29,182 [DEBUG] STDOUT:
statefulset.apps/minecraft-server scaled
2025-05-09 19:33:29,184 [INFO] SUCCESS: StatefulSet auf 2 skaliert
2025-05-09 19:33:29,185 [INFO] Warte auf Bereitschaft von Pod minecraft-server-1...
2025-05-09 19:33:29,185 [DEBUG] Ausführen: kubectl wait --for=condition=ready pod/minecraft-server-1 --timeout=180s -n default
2025-05-09 19:34:39,577 [DEBUG] STDOUT:
pod/minecraft-server-1 condition met
2025-05-09 19:34:39,581 [INFO] SUCCESS: Pod minecraft-server-1 ist bereit
2025-05-09 19:34:39,582 [INFO] SCHRITT 8/10 (80%): Lade Weltdaten aus Backup auf Server 1
2025-05-09 19:34:39,582 [INFO] Synchronisiere Weltdaten vom Backup für Pod minecraft-server-1...
2025-05-09 19:34:39,583 [DEBUG] Ausführen: kubectl exec -i minecraft-server-1 -n default -- /bin/bash -c /scripts/world-sync.sh from-backup
2025-05-09 19:34:39,711 [DEBUG] STDOUT:
Synchronisiere Weltdaten für world von Quelle zu Ziel...
Kopiere von Backup-Welt zu dieser Welt...
Synchronisation abgeschlossen!
2025-05-09 19:34:39,712 [DEBUG] STDERR:
Defaulted container "minecraft-java-container" out of: minecraft-java-container, wait-for-resources (init)
2025-05-09 19:34:39,713 [INFO] SUCCESS: Weltsynchronisierung vom Backup abgeschlossen
2025-05-09 19:34:39,713 [WARNING] Kein RCON-Passwort angegeben, überspringe Spielerbenachrichtigung
2025-05-09 19:34:39,714 [INFO] SCHRITT 9/10 (90%): Starte Server 0 neu für Update
2025-05-09 19:34:39,715 [INFO] Lösche Pod minecraft-server-0 für Neustart...
2025-05-09 19:34:39,715 [DEBUG] Ausführen: kubectl delete pod minecraft-server-0 -n default
2025-05-09 19:35:41,135 [DEBUG] STDOUT:
pod "minecraft-server-0" deleted
2025-05-09 19:35:41,136 [INFO] SUCCESS: Pod minecraft-server-0 erfolgreich gelöscht
2025-05-09 19:35:41,137 [INFO] Warte auf Bereitschaft von Pod minecraft-server-0...
2025-05-09 19:35:41,138 [DEBUG] Ausführen: kubectl wait --for=condition=ready pod/minecraft-server-0 --timeout=180s -n default
2025-05-09 19:36:51,529 [DEBUG] STDOUT:
pod/minecraft-server-0 condition met
2025-05-09 19:36:51,530 [INFO] SUCCESS: Pod minecraft-server-0 ist bereit
2025-05-09 19:36:51,531 [INFO] SCHRITT 10/10 (100%): Synchronisiere Weltdaten vom Backup zurück zu Server 0
2025-05-09 19:36:51,532 [INFO] Synchronisiere Weltdaten vom Backup für Pod minecraft-server-0...
2025-05-09 19:36:51,532 [DEBUG] Ausführen: kubectl exec -i minecraft-server-0 -n default -- /bin/bash -c /scripts/world-sync.sh from-backup
2025-05-09 19:36:51,658 [DEBUG] STDOUT:
Synchronisiere Weltdaten für world von Quelle zu Ziel...
Kopiere von Backup-Welt zu dieser Welt...
Synchronisation abgeschlossen!
2025-05-09 19:36:51,658 [DEBUG] STDERR:
Defaulted container "minecraft-java-container" out of: minecraft-java-container, wait-for-resources (init)
2025-05-09 19:36:51,659 [INFO] SUCCESS: Weltsynchronisierung vom Backup abgeschlossen
2025-05-09 19:36:51,660 [INFO] SCHRITT 11/10 (110%): Räume auf: Fahre Server 1 herunter
2025-05-09 19:36:51,660 [WARNING] Kein RCON-Passwort angegeben, überspringe Spielerbenachrichtigung
2025-05-09 19:36:51,661 [INFO] Skaliere StatefulSet minecraft-server auf 1 Replicas...
2025-05-09 19:36:51,661 [DEBUG] Ausführen: kubectl scale statefulset minecraft-server --replicas=1 -n default
2025-05-09 19:36:51,710 [DEBUG] STDOUT:
statefulset.apps/minecraft-server scaled
2025-05-09 19:36:51,711 [INFO] SUCCESS: StatefulSet auf 1 skaliert
2025-05-09 19:36:51,712 [INFO] SUCCESS: === UPDATE ERFOLGREICH ABGESCHLOSSEN (Dauer: 206.6s) ===
2025-05-09 19:36:51,712 [INFO] Detailliertes Update-Protokoll wurde gespeichert unter: logs/minecraft_update_20250509_193325.log
